<WindowManager>:
    name: "ScreenManager"
    canvas.before:
        Color:
            rgba: .87, .88, .85, 1
        Rectangle:
            pos: self.pos
            size: self.size


<signUpWindow>:
    name: "create"

    fullName: fullName
    email: email
    password: passw

    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55

    Image:
        source: "logo.png"
        allow_stretch: True
        keep_ratio: True
        size_hint_y: None
        size_hint_x: None
        width: 50
        height: 40
        pos: 10, 655


    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:
        cols:1
        FloatLayout:
            size: root.width, root.height/2

            Label:
                text: "Create an Account"
                color: 255, 255, 255, 1
                size_hint: 0.8, 0.2
                pos_hint: {"x":0.1, "top":.98}
                font_size: (root.width**2 + root.height**2) / 11.5**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":0, "top":0.84}
                text: "Name: "
                color: 255, 255, 255, 1
                font_size: (root.width**2 + root.height**2) / 13**4

            TextInput:
                pos_hint: {"x":0.4, "top":0.8}
                size_hint: 0.4, 0.05
                id: fullName
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.48,0.12
                pos_hint: {"x":0, "top":0.75}
                text: "Email: "
                color: 255, 255, 255, 1
                font_size: (root.width**2 + root.height**2) / 13**4

            TextInput:
                pos_hint: {"x":0.4, "top":0.71}
                size_hint: 0.4, 0.05
                id: email
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.48,0.12
                pos_hint: {"x":0, "top":0.66}
                text: "Password: "
                color: 255, 255, 255, 1
                font_size: (root.width**2 + root.height**2) / 13**4

            TextInput:
                pos_hint: {"x":0.4, "top":0.62}
                size_hint: 0.4, 0.05
                id: passw
                multiline: False
                password: True
                font_size: (root.width**2 + root.height**2) / 14**4

        Button:
            pos_hint:{"x":0.37,"y":0.45}
            size_hint: 0.29, 0.07
            font_size: (root.width**2 + root.height**2) / 13**4
            text: "Submit"
            background_color: 82, .93, .74, 1
            on_release:
                root.manager.transition.direction = "left"
                root.submit()

        Label:
            text:"or"
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 12.9**4
            pos_hint: {"x":0.31, "top":0.5}
            size_hint: 0.4, 0.15

        Button:
            pos_hint:{"x":0.39,"y":0.34}
            size_hint: 0.25, 0.05
            font_size: (root.width**2 + root.height**2) / 13.2**4
            halign: 'center'
            text: "Log in"
            on_release:
                root.manager.transition.direction = "left"
                root.login()





<LoginWindow>:
    name: "login"

    email: email
    password: password

    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55
    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:

        Label:
            text: "Login"
            color: 255, 255, 255, 1
            size_hint: 0.8, 0.2
            pos_hint: {"x":0.1, "top":.98}
            font_size: (root.width**2 + root.height**2) / 12**4

        Label:
            text:"Email or Username: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.15, "top":0.79}
            size_hint: 0.4, 0.15

        TextInput:
            id: email
            font_size: (root.width**2 + root.height**2) / 14**4
            multiline: False
            pos_hint: {"x": 0.11 , "top":0.68}
            size_hint: 0.8, 0.05

        Label:
            text:"Password: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 12.9**4
            pos_hint: {"x":0.06, "top":0.63}
            size_hint: 0.4, 0.15

        TextInput:
            id: password
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.11, "top":0.52}
            size_hint: 0.8, 0.05

        Button:
            pos_hint:{"x":0.37,"y":0.35}
            size_hint: 0.28, 0.06
            font_size: (root.width**2 + root.height**2) / 13**4
            text: "Login"
            background_color: 82, .93, .74, 1
            on_release:
                root.manager.transition.direction = "left"
                root.loginBtn()

        Label:
            text:"or"
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 12.9**4
            pos_hint: {"x":0.31, "top":0.4}
            size_hint: 0.4, 0.15

        Button:
            pos_hint:{"x":0.38,"y":0.25}
            size_hint: 0.25, 0.05
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Sign Up"
            color: 1, 1, 1, 1
            on_release:
                root.manager.transition.direction = "right"
                root.createBtn()

        Button:
            pos_hint:{"x":0.36,"y":0.1}
            size_hint: 0.3, 0.1
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "How It Works"
            color: 1, 1, 1, 1
            background_color: .52, .43, .25, .95
            on_release:
                root.manager.transition.direction = "right"
                root.howItWorks()



<MainWindow>:
    n: n
    email: email
    created:created

    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55
    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:
        Label:
            id: n
            pos_hint:{"x": 0.1, "top":0.88}
            size_hint:0.8, 0.2
            text: "Account Name: "
            color: 54, 73, 88, 1

        Label:
            id: email
            pos_hint:{"x": 0.1, "top":0.7}
            size_hint:0.8, 0.2
            text: "Email: "
            color: 54, 73, 88, 1

        Label:
            id: created
            pos_hint:{"x": 0.1, "top":0.5}
            size_hint:0.8, 0.2
            text: "Created: "
            color: 54, 73, 88, 1

        Button:
            pos_hint:{"x":0.2, "y": 0.1}
            size_hint:0.6,0.2
            text: "Log Out"
            on_release:
                app.root.current = "login"
                root.manager.transition.direction = "left"

                #user's points
        Label:
            text: "Points: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.68, "top":1.04}
            size_hint: 0.4, 0.15


<thankYouWindow>:
    name: "thankyou"

    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55
    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

            Label:
                text: "[b]Thank you \n for doing yout part![/b]"
                color: 54, 73, 88, 1
                markup: True
                halign: 'center'
                size_hint: 0.8, 0.2
                pos_hint: {"x":0.1, "top":.8}
                font_size: (root.width**2 + root.height**2) / 11**4

            Label:
                text: "come back next week \n to earn more points."
                color: 255, 255, 255, 1
                halign: 'center'
                size_hint: 0.8, 0.2
                pos_hint: {"x":0.1, "top":.65}
                font_size: (root.width**2 + root.height**2) / 13**4


        Button:
            pos_hint:{"x":0.37,"y":0.38}
            size_hint: 0.25, 0.08
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "SIGN OUT"
            background_color: 82, .93, .74, 1
            on_release:
                root.manager.transition.direction = "right"
                root.logOut()

               #user's points
        Label:
            text: "Points: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.68, "top":1.04}
            size_hint: 0.4, 0.15

<howItWorksWindow>:
    name: "howitworks"

    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55
    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

            #HOW IT WORKS
            Label:
                text: "[b]How it works[/b]"
                color: 255, 255, 255, 1
                markup: True
                halign: 'left'
                size_hint: 0.58, -0.17
                pos_hint: {"x":.1, "top":.8}
                font_size: (root.width**2 + root.height**2) / 11.5**4

            Label:
                text: "Richard McClintock, a Latin scholar from\nHampden-Sydney College, \nis credited with discovering\nthe source behind the ubiquitous filler text.\nIn seeing a sample of lorem ipsum, \nhis interest was\npiqued by consectetur—a genuine."
                color: 255, 255, 255, 1
                halign: 'left'
                size_hint: 0.7, -0.24
                pos_hint: {"x":.1, "top":.65}
                font_size: (root.width**2 + root.height**2) / 14.5**4

            #REWARDS
            Label:
                text: "[b]Rewards[/b]"
                color: 255, 255, 255, 1
                markup: True
                halign: 'left'
                size_hint: 0.4, 0.35
                pos_hint: {"x":.1, "top":.8}
                font_size: (root.width**2 + root.height**2) / 11.5**4

            Label:
                text: "Richard McClintock, a Latin scholar from\nHampden-Sydney College, \nis credited with discovering\nthe source behind the ubiquitous filler text.\nIn seeing a sample of lorem ipsum, \nhis interest was\npiqued by consectetur—a genuine."
                color: 255, 255, 255, 1
                halign: 'left'
                size_hint: 0.7, 0.29
                pos_hint: {"x":.1, "top":.65}
                font_size: (root.width**2 + root.height**2) / 14.5**4

            #Accountability
            Label:
                text: "[b]Accountability[/b]"
                color: 255, 255, 255, 1
                markup: True
                halign: 'left'
                size_hint: 0.63, .9
                pos_hint: {"x":.1, "top":.8}
                font_size: (root.width**2 + root.height**2) / 11.5**4

            Label:
                text: "Richard McClintock, a Latin scholar from\nHampden-Sydney College, \nis credited with discovering\nthe source behind the ubiquitous filler text.\nIn seeing a sample of lorem ipsum, \nhis interest was\npiqued by consectetur—a genuine."
                color: 255, 255, 255, 1
                halign: 'left'
                size_hint: 0.68, 0.84
                pos_hint: {"x":.1, "top":.65}
                font_size: (root.width**2 + root.height**2) / 14.5**4

        Button:
            pos_hint:{"x":0.37,"y":0.03}
            size_hint: 0.25, 0.08
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Home"
            background_color: 82, .93, .74, 1
            on_release:
                root.manager.transition.direction = "right"
                root.homePage()
                #user's points
        Label:
            text: "Points: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.68, "top":1.04}
            size_hint: 0.4, 0.15

#################################################################################

<Questionaaire>
    name: "questionaaire"

    # all variables we need
    questionOne: questionOne
    questionTwo: questionTwo
    questionThree: questionThree
    questionFour: questionFour
    questionFive: questionFive
    conditions: conditions
    text_input: text_input


    canvas.before:
        Color:
            rgba: .82, .93, .74, 1
        Rectangle:
            pos: 0, 648
            size: 400, 55
    Label:
        text: "ECOKARD"
        color: 255, 255, 255, 1
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "top":1.06}
        font_size: (root.width**2 + root.height**2) / 12**4

    FloatLayout:
        # Questionaaire

        #intro
        Label:
            text: "[b]Answer the questionnaire\nand earn points![/b]"
            color: 255, 255, 255, 1
            markup: True
            halign: 'left'
            size_hint: 0.58, -0.17
            pos_hint: {"x":.06, "top":.8}
            font_size: (root.width**2 + root.height**2) / 13**4

        # Q.1
        Label:
            text:"Q1: I rinsed out my food containers\nand can ensure there are no large\nchunks or pockets of food/liquid"
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 14**4
            halign: 'left'
            pos_hint: {"x":0.15, "top":0.85}
            size_hint: 0.4, 0.15

        ToggleButton:
            id: questionOne
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.78 , "top":0.80}
            size_hint: 0.14, 0.055
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Yes"


        # Q.2
        Label:
            text:"Q2: I checked my bins to make sure\nthey are separated properly."
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 14**4
            halign: 'left'
            pos_hint: {"x":0.15, "top":0.75}
            size_hint: 0.4, 0.15

        # REMEMBER
        Button:
            text:"REMEMBER:"
            color: 1, 1, 1, 1
            font_size: (root.width**2 + root.height**2) / 17**4
            halign: 'left'
            background_color: 82, .93, .74, 1
            pos_hint: {"x":0.54, "top":0.67}
            size_hint: 0.18, 0.03
            on_release:
                root.rememberPop()

        ToggleButton:
            id: questionTwo
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.78 , "top":0.70}
            size_hint: 0.14, 0.055
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Yes"

        # Q.3
        Label:
            #text:"Q3: Items such as batteries,\nyard waste and household hazardous waste\nhave not been put out for curb-side pick up.\nI have read Kingston’s policies\non such material and plan on any\nof such material to the appropriate drop-off locations."
            text:"Q3: I have not included any batteries or\nhazardous waste in my curb-side pick up."
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 14**4
            halign: 'left'
            pos_hint: {"x":0.2, "top":0.65}
            size_hint: 0.4, 0.15

        ToggleButton:
            id: questionThree
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.78 , "top":0.60}
            size_hint: 0.14, 0.055
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Yes"

        # Q.4
        Label:
            text:"Q4: If there were any items that I was\nuncertain about, I referred to the Kingston\nwebsite and ‘Kingston Waste’ mobile app\nto ensure proper disposal. "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 14.1**4
            halign: 'left'
            pos_hint: {"x":0.2, "top":0.50}
            size_hint: 0.4, 0.1

        ToggleButton:
            id: questionFour
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.78 , "top":0.48}
            size_hint: 0.14, 0.055
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Yes"

        # Q.5
        Label:
            text:"Q5: I have checked to make sure\nthere are no recyclable or compostable\nmaterial in the garbage bag(s) "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 14**4
            halign: 'left'
            pos_hint: {"x":0.18, "top":0.39}
            size_hint: 0.4, 0.15

        ToggleButton:
            id: questionFive
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.78 , "top":0.34}
            size_hint: 0.14, 0.055
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "Yes"

        # CONDITIONS
        Label:
            text:"I made an honest effort to sort material properly throughout the week and I certify\nthat the information provided is true to my best knowledge. I understand that\nfailure to provide accurate information may result in fines or penalties "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 16**4
            pos_hint: {"x":0.31, "top":0.29}
            size_hint: 0.4, 0.15

        ToggleButton:
            id: conditions
            font_size: (root.width**2 + root.height**2) / 16**4
            multiline: False
            pos_hint: {"x": 0.03 , "top":0.24}
            size_hint: 0.06, 0.03
            font_size: (root.width**2 + root.height**2) / 14**4
            text: "X"

        #user's points
        Label:
            text: "Points: "
            color: 255, 255, 255, 1
            font_size: (root.width**2 + root.height**2) / 15**4
            pos_hint: {"x":0.68, "top":1.04}
            size_hint: 0.4, 0.15

        #####------------------------------------
        # page Uploading image
        Button:
            pos_hint:{"x":0.13,"y":0.1}
            size_hint: 0.28, 0.06
            font_size: (root.width**2 + root.height**2) / 13**4
            id: text_input
            text: "Upload"
            #background_color: 60, 130, 207, 1
            color: 1, 1, 1, 1

            on_release: root.show_save()

        Button:
            text: 'Submit'
            pos_hint:{"x":0.58,"y":0.1}
            size_hint: 0.28, 0.06
            font_size: (root.width**2 + root.height**2) / 13**4
            background_color: 82, .93, .74, 1
            color: 1, 1, 1, 1
            on_release: root.submit()


# pop up window for
# reference code from official website
<SaveDialog>
    #name: "savedialog"
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        color: 255, 255, 255, 1
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        # the box to show the file path
        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        # two buttons at the end for cancel and save
        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)
